version: '3.8'

services:
  media-janitor:
    image: ghcr.io/siouldlh/media-janitor:latest
    container_name: media-janitor
    ports:
      - "8099:8099"
    volumes:
      # Config et données
      - ./config:/config:ro
      - ./data:/data
      # Montage des médias (optionnel, pour matching par path)
      # Exemple pour un NAS typique :
      # - /media/raid/DATA:/raid/DATA:ro
    environment:
      - CONFIG_PATH=/config/config.yaml
      - DATA_DIR=/data
      - TZ=Europe/Paris
    restart: unless-stopped
    # Pas de réseau custom : utilise le bridge par défaut
    # Les services sont accessibles via leurs URLs LAN configurées dans config.yaml

